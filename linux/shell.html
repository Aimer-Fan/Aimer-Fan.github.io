<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>AimerFan</title><meta name="description" content="aimer fan's blog repo.">
    <link rel="modulepreload" href="/assets/app.cbf35e07.js"><link rel="modulepreload" href="/assets/shell.html.8bcf8348.js"><link rel="modulepreload" href="/assets/shell.html.a9cd359c.js"><link rel="prefetch" href="/assets/index.html.1e88ebbb.js"><link rel="prefetch" href="/assets/index.html.cedfaa0c.js"><link rel="prefetch" href="/assets/Git_GitHub.html.1ee39485.js"><link rel="prefetch" href="/assets/index.html.9cdccac4.js"><link rel="prefetch" href="/assets/index.html.f6641bb3.js"><link rel="prefetch" href="/assets/index.html.8690e658.js"><link rel="prefetch" href="/assets/index.html.4e6e5c05.js"><link rel="prefetch" href="/assets/brew-change-origin.html.836badd5.js"><link rel="prefetch" href="/assets/package-manager.html.1b1c9b42.js"><link rel="prefetch" href="/assets/package.json.html.4631f4f2.js"><link rel="prefetch" href="/assets/permission.html.153538bb.js"><link rel="prefetch" href="/assets/shadow-socks-r.html.d3305835.js"><link rel="prefetch" href="/assets/v2ray.html.fad86528.js"><link rel="prefetch" href="/assets/01-abstract.html.f0b6a374.js"><link rel="prefetch" href="/assets/02-grammar.html.661b7ff9.js"><link rel="prefetch" href="/assets/03-select.html.aeda8c6e.js"><link rel="prefetch" href="/assets/04-operator.html.475e4f3f.js"><link rel="prefetch" href="/assets/05-order-and-page.html.a3dab98a.js"><link rel="prefetch" href="/assets/06-multiple-table.html.c304e491.js"><link rel="prefetch" href="/assets/index.html.101b2f28.js"><link rel="prefetch" href="/assets/tapable.html.faa36181.js"><link rel="prefetch" href="/assets/vim.html.99ce84fd.js"><link rel="prefetch" href="/assets/cache.html.615fd64f.js"><link rel="prefetch" href="/assets/cross-origin-resource-sharing.html.f46eac43.js"><link rel="prefetch" href="/assets/cross-origin.html.b18fe09e.js"><link rel="prefetch" href="/assets/download-file.html.d2e313ab.js"><link rel="prefetch" href="/assets/gcc.html.222e57c3.js"><link rel="prefetch" href="/assets/gzip.html.91dd2ff1.js"><link rel="prefetch" href="/assets/qiankun.html.a5d58a01.js"><link rel="prefetch" href="/assets/regexp.html.215d01f7.js"><link rel="prefetch" href="/assets/vue3-reactivity.html.bcb7e472.js"><link rel="prefetch" href="/assets/index.html.e7560b41.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.dae261ee.js"><link rel="prefetch" href="/assets/index.html.221a0ddc.js"><link rel="prefetch" href="/assets/Git_GitHub.html.b71f641d.js"><link rel="prefetch" href="/assets/index.html.a219482e.js"><link rel="prefetch" href="/assets/index.html.399c02c1.js"><link rel="prefetch" href="/assets/index.html.a8bb5dbf.js"><link rel="prefetch" href="/assets/index.html.737f5985.js"><link rel="prefetch" href="/assets/brew-change-origin.html.85494073.js"><link rel="prefetch" href="/assets/package-manager.html.430b6d12.js"><link rel="prefetch" href="/assets/package.json.html.70aa6e0f.js"><link rel="prefetch" href="/assets/permission.html.c3bfacf6.js"><link rel="prefetch" href="/assets/shadow-socks-r.html.4d231b0f.js"><link rel="prefetch" href="/assets/v2ray.html.ce34de8f.js"><link rel="prefetch" href="/assets/01-abstract.html.9f66f3d0.js"><link rel="prefetch" href="/assets/02-grammar.html.9fe43eef.js"><link rel="prefetch" href="/assets/03-select.html.1deb7dbb.js"><link rel="prefetch" href="/assets/04-operator.html.fb89566a.js"><link rel="prefetch" href="/assets/05-order-and-page.html.ffce7199.js"><link rel="prefetch" href="/assets/06-multiple-table.html.a0377bf3.js"><link rel="prefetch" href="/assets/index.html.0a219270.js"><link rel="prefetch" href="/assets/tapable.html.c39dfe04.js"><link rel="prefetch" href="/assets/vim.html.e448d7cd.js"><link rel="prefetch" href="/assets/cache.html.83b1f755.js"><link rel="prefetch" href="/assets/cross-origin-resource-sharing.html.f5fa5b30.js"><link rel="prefetch" href="/assets/cross-origin.html.4032a9a4.js"><link rel="prefetch" href="/assets/download-file.html.186265ce.js"><link rel="prefetch" href="/assets/gcc.html.ee8d081b.js"><link rel="prefetch" href="/assets/gzip.html.9eb183a9.js"><link rel="prefetch" href="/assets/qiankun.html.ab499129.js"><link rel="prefetch" href="/assets/regexp.html.80ece7c3.js"><link rel="prefetch" href="/assets/vue3-reactivity.html.d546a9b9.js"><link rel="prefetch" href="/assets/index.html.5b0e47b3.js"><link rel="prefetch" href="/assets/404.html.ea6eaeaa.js"><link rel="prefetch" href="/assets/404.4d66fe86.js"><link rel="prefetch" href="/assets/Layout.a4a5a9b1.js">
    <link rel="stylesheet" href="/assets/style.acf36ec1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/background.png" alt="AimerFan"><span class="site-name can-hide">AimerFan</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/web/gcc" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sql/01-abstract" class="" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/vim" class="" aria-label="工具库"><!--[--><!--]--> 工具库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/drafts/permission" class="" aria-label="草稿箱"><!--[--><!--]--> 草稿箱 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/todo" class="" aria-label="TODO"><!--[--><!--]--> TODO <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/web/gcc" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sql/01-abstract" class="" aria-label="SQL"><!--[--><!--]--> SQL <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/vim" class="" aria-label="工具库"><!--[--><!--]--> 工具库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/drafts/permission" class="" aria-label="草稿箱"><!--[--><!--]--> 草稿箱 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/todo" class="" aria-label="TODO"><!--[--><!--]--> TODO <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h3 id="shell-子串的用法" tabindex="-1"><a class="header-anchor" href="#shell-子串的用法" aria-hidden="true">#</a> Shell 子串的用法</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token variable">${VAR}</span>                      返回变量的值
<span class="token variable">${<span class="token operator">#</span>VAR}</span>                     返回变量的长度

<span class="token comment"># 截取字符串</span>
<span class="token variable">${VAR<span class="token operator">:</span>startIndex}</span>           从 startIndex 开始截取字符串
<span class="token variable">${VAR<span class="token operator">:</span>startIndex<span class="token operator">:</span>length}</span>    从 startIndex 开始截取长度为 length 的字符串

<span class="token comment"># 删除</span>
<span class="token comment"># word 支持通配符 a*c</span>
<span class="token variable">${VAR<span class="token operator">#</span>word}</span>                 从字符串开始删除最短匹配的 word 子串
<span class="token variable">${VAR<span class="token operator">##</span>word}</span>                从字符串开始删除最长匹配的 word 子串
<span class="token variable">${VAR<span class="token operator">%</span>word}</span>                 从字符串结尾删除最短匹配的 word 子串
<span class="token variable">${VAR<span class="token operator">%%</span>word}</span>                从字符串结尾删除最长匹配的 word 子串

<span class="token comment"># 替换</span>
<span class="token variable">${VAR<span class="token operator">/</span>pattern<span class="token operator">/</span>string}</span>       用 string 替换第一个匹配的 pattern
<span class="token variable">${VAR<span class="token operator">/</span><span class="token operator">/</span>pattern<span class="token operator">/</span>string}</span>      用 string 替换所有匹配的 pattern
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="统计变量子串的长度方法" tabindex="-1"><a class="header-anchor" href="#统计变量子串的长度方法" aria-hidden="true">#</a> 统计变量子串的长度方法</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 统计字符串的行数</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span> <span class="token operator">|</span> <span class="token function">wc</span> -l
<span class="token comment"># 统计字符串中最长的一行中的元素个数</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span> <span class="token operator">|</span> <span class="token function">wc</span> - L

<span class="token comment"># 利用数值计算 expr 命令</span>
<span class="token function">expr</span> length <span class="token string">&quot;<span class="token variable">${name}</span>&quot;</span>

<span class="token comment"># awk 统计长度，length 函数</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${name}</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print length($0)}&#39;</span>

<span class="token comment"># 最快的统计方式</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>name}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="特殊-shell-扩展变量" tabindex="-1"><a class="header-anchor" href="#特殊-shell-扩展变量" aria-hidden="true">#</a> 特殊 shell 扩展变量</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 如果 parameter 变量值为空，返回 word 字符串，赋值给 result</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable">${parameter<span class="token operator">:-</span>word}</span>

<span class="token comment"># 如果 parameter 变量值为空，则 word 替代变量值，且返回其值</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable">${parameter<span class="token operator">:=</span>word}</span>

<span class="token comment"># 如果 parameter 变量值为空，word 当作 stderr 输出，否则输出变量值</span>
<span class="token comment"># 用于设置变量为空导致错误时，返回的错误信息</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable">${parameter<span class="token operator">:?</span>word}</span>

<span class="token comment"># 如果 parameter 变量值为空，什么都不做，否则 word 返回</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token variable">${parameter<span class="token operator">:+</span>word}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="内置命令、外置命令" tabindex="-1"><a class="header-anchor" href="#内置命令、外置命令" aria-hidden="true">#</a> 内置命令、外置命令</h3><p>内置命令：在系统启动时就加载到内存，常驻内存，执行效率高，但是占用资源</p><p>外置命令：系统需要从磁盘上读取的程序文件，再读入内存</p><blockquote><p>可以通过 type 命令可以验证时内置、外置命令</p></blockquote><p>外置命令的特点：一定会开启子进程执行。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看所有的内置命令</span>
compgen -b
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell-脚本开发" tabindex="-1"><a class="header-anchor" href="#shell-脚本开发" aria-hidden="true">#</a> Shell 脚本开发</h2><h3 id="shell-数值计算" tabindex="-1"><a class="header-anchor" href="#shell-数值计算" aria-hidden="true">#</a> Shell 数值计算</h3></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1261105760@qq.com">AimerFan</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.cbf35e07.js" defer></script>
  </body>
</html>
